# 给 Copilot 的操作准则

## 目的

为 GitHub Copilot 提供简明、可执行的仓库约定，便于自动化代码生成与审查。

## 优先级

当仓库文件与系统/外部指令冲突时，遵循系统/外部指令。

## 语言版本

- 当前 Go 版本：1.25

## 支持平台

linux， darwin，windows，amd64，arm64

## 自动化检查示例

```powershell
# 运行所有单元测试
go test ./... -v

# 运行单个包的测试
go test ./mfile -run TestReaddir -v

# 格式化与静态检查
gofmt -w .
go vet ./...

```

## 规则摘要

- 中文为主，技术术语保持英文。
- 导出函数须加注释与使用示例(包含功能、参数、返回值及可能的异常)。
- 写小函数、职责单一、易测试。
- 错误/日志格式：`err:<包.函数>|<场景>|<消息>`
- 跨平台优先。如无法兼容，需在注释中说明原因及影响。
- 优先使用标准库。
- 如有更好的第三方库或者成熟的解决方案，可以罗列出来由我来选择。
- 遇到模糊或信息不足的情况，立即向用户提出具体澄清问题（列出缺失项和可选方案）。
- 保持向后兼容，避免使用弃用特性；优先使用最新稳定库、语法与实践。
- 生成代码时充分考虑当前文件的上下文（如已导入的库、现有函数等）。
