# Go 语言项目开发规范

## 一、Go 版本与语法

- 基于 Go 1.25.x 版本开发
- 不引入低于 1.25.x 主版本的语法或标准库特性
- 禁用该版本已废弃或者不推荐的语法特性

## 二、依赖管理

- 优先使用 Go 官方推荐的标准库来实现功能
- 第三方依赖必须进行综合对比选出最优方案
- 当需要使用第三方库的时候，最好是罗列出来让我选择
- 在推荐和采用第三方库的时候，一定要基于最新版本来进行分析

## 三、错误处理

1. **错误信息规范**

   - 使用 `fmt.Errorf("场景描述: %w", err)` 格式包装原始错误

2. **语义化错误**

   - 复杂业务场景下，使用 `errors.New` 定义语义化错误变量，或通过 `errors.Join` 合并多错误
   - 禁止直接返回字符串字面量错误

## 四、代码风格

1. **命名规范**

   - 变量，函数，常量，包名 使用 go 官方推荐的命名规范

2. **格式规范**

   - 遵循 Go 官方代码风格即可

3. **代码组织**

   - 保持包内逻辑清晰
   - 避免过大函数
   - 公共函数需添加规范注释

4. **函数声明**

   - 在 Go 语言项目开发中声明函数时，建议优先采用命名返回值形式
   - 若使用命名返回值，需在函数顶部为返回值显式赋空值或者默认值

## 五、关键流程错误处理

- 对 I/O 操作、网络请求、配置解析等关键流程的错误，进行完整上下文包装
- 确保错误日志可追溯至具体操作场景（如 `fmt.Errorf("读取配置文件 %s 失败: %w", filePath, err)`）
